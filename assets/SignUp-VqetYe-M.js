import{r as a,j as e,B as C,c as ge,L as te}from"./index-HKKtdzrQ.js";const je="_hide_1h5us_1",_e="_formOne_1h5us_4",h={hide:je,formOne:_e},ve=()=>{const{indicated:f,show:u,showConfirm:m,setShowConfirm:l,setShow:d,passwordInput:p,confirmPasswordInput:x,emailInput:G,passWarning:j,confirmWarning:_,emailWarning:v}=a.useContext(N);return e.jsxs("div",{className:f==0?h.formOne:h.hide,children:[e.jsxs("div",{className:h.email,children:[e.jsx("h4",{children:"Email"}),e.jsx("input",{type:"text",ref:G}),e.jsx("span",{ref:v})]}),e.jsxs("div",{className:h.password,children:[e.jsx("h4",{children:"Password"}),e.jsx("input",{type:u?"text":"password",ref:p}),e.jsx("img",{src:u?"./password/visible.png":"./password/unsee.png",className:h.see_password,onClick:()=>{d(!u)}}),e.jsx("span",{ref:j})]}),e.jsxs("div",{className:h.confirm,children:[e.jsx("h4",{children:"Confirm Password"}),e.jsx("input",{type:m?"text":"password",ref:x}),e.jsx("img",{src:m?"./password/visible.png":"./password/unsee.png",className:h.see_confirm,onClick:()=>{l(!m)}}),e.jsx("span",{ref:_})]})]})},Ie="_hide_p08ld_1",be="_formTwo_p08ld_6",Se="_top_p08ld_16",we="_notIndicated_p08ld_41",Ce="_indicated_p08ld_46",S={hide:Ie,formTwo:be,top:Se,notIndicated:we,indicated:Ce},Ne=()=>{const{indicated:f,usageOptions:u,handleUsageOptions:m,usingAsInput:l}=a.useContext(N);return e.jsxs("div",{className:f==1?S.formTwo:S.hide,children:[e.jsx("h3",{children:"I am using the Web Application as?"}),e.jsx("div",{children:e.jsxs("div",{className:S.top,children:[u.map((d,p)=>e.jsx(C,{content:d.content,className:d.isIndicated?S.indicated:S.notIndicated,func:()=>{m(p)}},d.content)),e.jsx("h3",{children:"What is your purpose?"}),e.jsx("textarea",{type:"text",placeholder:"Other reason...",ref:l})]})})]})},Te="_hide_a52m3_1",ye="_formThree_a52m3_5",w={hide:Te,formThree:ye},We=()=>{const{indicated:f,schoolInput:u,schoolWarning:m,grSecInput:l,grSecWarning:d,nickNameInput:p,nameWarning:x}=a.useContext(N);return e.jsxs("div",{className:f==2?w.formThree:w.hide,children:[e.jsxs("div",{className:w.username,children:[e.jsx("h4",{children:"Name"}),e.jsx("input",{type:"text",ref:p}),e.jsx("span",{ref:x})]}),e.jsxs("div",{className:w.password,children:[e.jsx("h4",{children:"School"}),e.jsx("input",{type:"text",ref:u}),e.jsx("span",{ref:m})]}),e.jsxs("div",{className:w.confirm,children:[e.jsx("h4",{children:"Grade & Section"}),e.jsx("input",{type:"text",ref:l}),e.jsx("span",{ref:d})]})]})},Ue="_hide_z324w_8",ke="_formFour_z324w_12",Be="_wrapper_z324w_43",Pe="_IndicatedButt_z324w_63",Ae="_notIndicatedButt_z324w_73",g={hide:Ue,formFour:ke,wrapper:Be,IndicatedButt:Pe,notIndicatedButt:Ae},Re=()=>{const{indicated:f,subjects:u,handleSubjects:m}=a.useContext(N);if(u!=null)return e.jsx("div",{className:f==3?g.formFour:g.hide,children:e.jsxs("div",{className:g.wrapper,children:[e.jsx("h4",{children:"What is your favorite subject?"}),e.jsx("div",{className:g.buttons,children:u.map((l,d)=>e.jsx(C,{func:()=>{m(d)},className:l.testClass==!0?g.IndicatedButt:g.notIndicatedButt,content:u[d].content},l+d.toString()))})]})})},Fe="_signUpWrapper_8b39y_12",Oe="_Link_8b39y_32",Ee="_forms_8b39y_38",$e="_toBottom_8b39y_49",Le="_bottom_8b39y_68",ze="_buttons_8b39y_74",De="_indicator_8b39y_96",Me="_indicated_8b39y_110",Ge="_notIndicated_8b39y_114",He="_goToStartingPage_8b39y_146",i={signUpWrapper:Fe,Link:Oe,forms:Ee,toBottom:$e,bottom:Le,buttons:ze,indicator:De,indicated:Me,notIndicated:Ge,goToStartingPage:He},N=a.createContext(),Je=()=>{const{setShowSignInPrompt:f,showSignUpPrompt:u,setShowSignUpPrompt:m,setLoading:l,setContinueAs:d,setUser:p,prevPage:x,setHideNavBar:G}=a.useContext(ge),j=a.useRef(null),_=a.useRef(null),v=a.useRef(null),T=a.useRef(null),y=a.useRef(null),W=a.useRef(null),U=a.useRef(null),k=a.useRef(null),B=a.useRef(null),P=a.useRef(null),A=a.useRef(null),R=a.useRef(null),I=a.useRef(null),[se,ne]=a.useState(!1),[ae,oe]=a.useState(!1),[c,b]=a.useState(0),[H,F]=a.useState([]),[X,O]=a.useState([]),[q,E]=a.useState([{content:"As a Student",isIndicated:!1},{content:"As a Teacher",isIndicated:!1},{content:"As a Employee",isIndicated:!1},{content:"I Am Just Using It.",isIndicated:!1}]),[J,$]=a.useState([{content:"TLE",testClass:!1},{content:"Mathematics",testClass:!1},{content:"Science",testClass:!1},{content:"English",testClass:!1},{content:"Colloquium",testClass:!1},{content:"Filipino",testClass:!1},{content:"Mapeh",testClass:!1},{content:"AP",testClass:!1},{content:"ESP",testClass:!1}]),ce=()=>{var K,V,Q,Y,Z,ee;const n=(K=v.current)==null?void 0:K.value,t=(V=j.current)==null?void 0:V.value,r=(Q=y.current)==null?void 0:Q.value,o=(Y=U.current)==null?void 0:Y.value,s=(Z=B.current)==null?void 0:Z.value,M=(ee=A.current)==null?void 0:ee.value,ue=T.current,me=_.current,fe=W.current,pe=k.current,he=P.current,xe=R.current;return[[n,t,r,o,s,M],[ue,me,fe,pe,he,xe]]},L=async n=>{var o;const t=ce();let r;if(c==0){if(r=z(t[0],t[1],c),!r){l(!0);try{await createUserWithEmailAndPassword(auth,t[0][0],t[0][1]),p(auth.currentUser),await setDoc(doc(db,"Users",(o=auth.currentUser)==null?void 0:o.uid),{email:t[0][0]}),b(c+1)}catch(s){console.log(s),s.code=="auth/email-already-in-use"&&(t[1][0].innerText="Email is already taken.")}l(!1)}}else c==1||c==2?r=z(t[0],t[1],c):c==3&&n=="Submit"&&le(t[0]);n=="next"&&c!=3&&!r?b(c+1):n=="back"&&c!=1&&b(c-1)},z=(n,t,r)=>{let o=!1;for(let s in n)r==0&&s<3?(n[s]==""&&(t[s].innerText="The input field is blank.",o=!0),s==0?n[s].includes("@gmail.com")||n[s].includes("@email.com")?t[s].innerText="":(t[s].innerText="This is not an email!",o=!0):s==1?n[s].length<=7?(t[s].innerText="The password is too short(maximum of 8 characters).",o=!0):t[s].innerText="":s==2&&(n[s]!=n[s-1]?(t[s].innerText="The password isn't match.",o=!0):t[s].innerText="")):r==2&&s>2&&(n[s]==""?(t[s].innerText="The input field is blank.",o=!0):(t[s].innerText="",o=!1));return!!o},ie=n=>{let t=q;for(let r in t)if(r==n){t=t[n].content;break}F(t),E(r=>r.map((o,s)=>n==s?{...o,isIndicated:!0}:{...o,isIndicated:!1}))},re=n=>{let t=J,r=[];t=t.map((o,s)=>n==s?{...o,testClass:o.testClass!=!0}:{...o});for(let o in t)t[o].testClass==!0&&r.push(t[o]);O([...r]),$(o=>o.map((s,M)=>n==M?{...s,testClass:s.testClass!=!0}:{...s}))},le=async n=>{l(!0);try{const t=auth.currentUser;await setDoc(doc(db,"Users",t.uid),{favSubjects:X,usingAs:H,perInfo:{school:n[4],name:n[3],grSec:n[5],age:"",bDay:"",gender:"",hobbies:"",placeOfBirth:"",skills:"",contacts:{gMail:"",number:"",faceBook:""},purpose:I==null?void 0:I.current.value}}),m(!1),D(),d(!0)}catch(t){console.log(t.message)}l(!1)};function D(){j.current.value="",_.current.value="",v.current.value="",T.current.value="",y.current.value="",W.current.value="",U.current.value="",k.current.value="",B.current.value="",P.current.value="",A.current.value="",R.current.value="",I.current.value="",$(n=>n.map(t=>({...t,testClass:!1}))),E(n=>n.map(t=>({...t,isIndicated:!1}))),F(null),O([]),b(0)}const de={passwordInput:j,passWarning:_,emailInput:v,emailWarning:T,confirmPasswordInput:y,confirmWarning:W,nickNameInput:U,nameWarning:k,schoolInput:B,schoolWarning:P,grSecInput:A,grSecWarning:R,usingAsInput:I,show:se,setShow:ne,showConfirm:ae,setShowConfirm:oe,indicated:c,setIndication:b,usage:H,setUsage:F,selectedSubjects:X,setSelectedSubjects:O,usageOptions:q,setUsageOptions:E,subjects:J,setSubjects:$,handleUsageOptions:ie,handleSubjects:re};return e.jsx(e.Fragment,{children:e.jsx(N.Provider,{value:de,children:e.jsxs("div",{className:i.signUpWrapper,children:[e.jsx(te,{to:x!=""?x:"/AcadComponent/",className:i.Link,children:e.jsx(C,{func:()=>{D()},content:"X",className:i.goToStartingPage})}),e.jsxs("form",{onSubmit:n=>{n.preventDefault()},className:i.forms,children:[e.jsx("header",{children:"SIGN UP"}),e.jsxs("div",{className:i.toBottom,children:[e.jsx(ve,{}),e.jsx(Ne,{}),e.jsx(We,{}),e.jsx(Re,{}),e.jsxs("div",{className:i.bottom,children:[e.jsxs("div",{className:i.buttons,children:[e.jsx(C,{content:"BACK",func:()=>{L("back")}}),e.jsx(C,{content:c==3||c==0?"SUBMIT":"NEXT",func:()=>{c==3||c==0?L("Submit"):L("next")}})]}),e.jsxs("div",{className:i.indicator,children:[e.jsx("div",{className:c==0?i.indicated:i.notIndicated}),e.jsx("div",{className:c==1?i.indicated:i.notIndicated}),e.jsx("div",{className:c==2?i.indicated:i.notIndicated}),e.jsx("div",{className:c==3?i.indicated:i.notIndicated})]}),e.jsx("h4",{id:i.SignUp,onClick:()=>{D()},children:e.jsx(te,{to:"/AcadComponent/SignIn",className:i.linkBottom,children:"Already Have An Account?"})})]})]})]})]})})})};export{Je as default,N as signUpContext};
