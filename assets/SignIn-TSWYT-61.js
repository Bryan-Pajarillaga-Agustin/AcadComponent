import{r as a,c as k,j as s,L as P,B as C,s as z,e as p,G as B,f as E,d as G,a as L,g as R}from"./index-HKKtdzrQ.js";const U="_signInWrapper_1gazs_10",y="_Link_1gazs_27",b="_goToStartingPage_1gazs_32",F="_topArc_1gazs_44",D="_form_1gazs_57",H="_userNameCon_1gazs_64",V="_passwordCon_1gazs_65",q="_moreActions_1gazs_72",M="_signInButton_1gazs_128",O="_otherPlatformsWrapper_1gazs_144",X="_iconsWrapper_1gazs_155",$="_wrapper_1gazs_161",n={signInWrapper:U,Link:y,goToStartingPage:b,topArc:F,form:D,userNameCon:H,passwordCon:V,moreActions:q,signInButton:M,otherPlatformsWrapper:O,iconsWrapper:X,wrapper:$};function Z(){const{setPage:J,setUser:f,setShowSignInPrompt:x,setShowSignUpPrompt:A,setLoading:u,setContinueAs:h,getAccountInformation:_,setHideNavBar:S,prevPage:w}=a.useContext(k),[d,N]=a.useState(!1),[K,Q]=a.useState(),r=a.useRef(null),o=a.useRef(null),c=a.useRef(null),i=a.useRef(null),g=()=>{const e=c==null?void 0:c.current.value,t=i==null?void 0:i.current.value,l=r.current,v=o.current;return{email:e,pass:t,warning1:l,warning2:v}},m=()=>{const e=g();e.email&&(e.email=""),e.pass&&(e.pass=""),e.warning1.innerText="",e.warning2.innerText=""},j=e=>{const t=g();return(e==null?void 0:e.target.value)==""||t.email==""?r.current.textContent="The input field is blank!":r.current.textContent="",!1},I=e=>{const t=g();return(e==null?void 0:e.target.value)==""||t.pass==""?o.current.textContent="The input field is blank!":o.current.textContent="",!1},W=async()=>{j(),I();{u(!0);try{await z(p,c.current.value,i.current.value),m(),f(p.currentUser),x(!1),h(!0),_()}catch(e){console.log(e.code),e.code=="auth/invalid-email"&&(r.current.textContent="Invalid email/Email doesn't exist."),e.code=="auth/invalid-credential"&&(o.current.textContent="Password does not match."),e.code=="auth/network-request-failed"&&alert("Network Error, unable to sign in. Please try again.")}u(!1)}},T=async()=>{var t;const e=new B;u(!0);try{await E(p,e),m(),f(p.currentUser);const l=G(L,"Users",(t=p.currentUser)==null?void 0:t.uid);(await R(l)).exists()?x(!1):A(!0),h(!0),_()}catch(l){console.log(l)}u(!1)};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:n.signInWrapper,children:[s.jsx(P,{to:w!=""?w:"/AcadComponent/",className:n.Link,children:s.jsx(C,{func:()=>{m(),S(!1)},content:"X",className:n.goToStartingPage})}),s.jsx("div",{className:n.topArc,children:"SIGN IN"}),s.jsxs("div",{className:n.form,children:[s.jsxs("div",{className:n.userNameCon,children:[s.jsx("h3",{children:"Username :"}),s.jsx("input",{className:"emailInput",ref:c,onInput:e=>{j(e)}}),s.jsx("span",{ref:r})]}),s.jsxs("div",{className:n.passwordCon,children:[s.jsx("h3",{children:"Password :"}),s.jsx("input",{type:d?"text":"password",ref:i,onInput:e=>{I(e)},className:n.Password}),s.jsx("span",{ref:o}),s.jsx("img",{src:d?"./password/visible.png":"./password/unsee.png",className:n.seePassword,onClick:()=>{N(!d)}})]}),s.jsxs("div",{className:n.moreActions,children:[s.jsx("span",{className:n.forgotPass,children:"Forgot Password"}),s.jsx(P,{className:n.createAcc,to:"/AcadComponent/SignUp",children:"Doesn't Have An Account?"})]}),s.jsx(C,{className:n.signInButton,func:()=>{W()},content:"SIGN IN"})]}),s.jsxs("div",{className:n.otherPlatformsWrapper,children:[s.jsxs("div",{className:n.iconsWrapper,children:[s.jsx("div",{className:n.wrapper,onClick:()=>{T()},children:s.jsx("img",{src:"./platforms/GG.png "})}),s.jsx("div",{className:n.wrapper,children:s.jsx("img",{src:"./platforms/facebook.png"})}),s.jsx("div",{className:n.wrapper,children:s.jsx("img",{src:"./platforms/Instagram.png"})})]}),s.jsx("h3",{children:"SIGN IN WITH DIFFERENT PLATFORMS"})]})]})})}export{Z as default};
