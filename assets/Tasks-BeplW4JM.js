import{r as a,j as e,B as n,c as Y,d as Z,a as ee,g as se}from"./index-jOL4xArz.js";const te="_bottomOptionsWrapper_9abog_1",ae="_left_9abog_71",oe="_uncheck_9abog_71",ne="_right_9abog_89",re="_fullContent_9abog_143",C={bottomOptionsWrapper:te,left:ae,uncheck:oe,right:ne,fullContent:re},le=()=>{const{handleSelectedTasks:l,selectedTask:d,selectTask:c,setSelectTask:j,unselectAll:x,tasks:m,searching:u,setUpdateTasks:k,filteredTasks:f,setFilteredTasks:i,handleMarking:N,selecting:h,setSelecting:T}=a.useContext(F),t=()=>{let r=m,g=f,P=[],y=[];if(u){g=g.map(p=>({...p,isChecked:!0}));for(let p=0;p<g.length;p++)g[p].isChecked&&y.push({id:g[p].id,index:p});l([...y])}else{r=r.map(p=>({...p,isChecked:!0}));for(let p=0;p<r.length;p++)r[p].isChecked&&P.push({id:r[p].id,index:p});l([...P])}u?i([...g]):k(p=>p.map(O=>({...O,isChecked:!0})))};function o(){let r=m,g=f;for(let P in g)for(let y in d)g[P].id===d[y].id&&g.splice(P,1);for(let P in m)for(let y in d)r[P].id===d[y].id&&r.splice(P,1);N(g,[...r]),l(null)}const _=()=>{if(h==!0)return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:C.left,children:[e.jsx(n,{element:e.jsx("span",{className:C.fullContent,children:"Select All"}),icon:e.jsx("i",{className:"fa fa-check"}),className:C.SelectAllButton,func:()=>{t()}}),e.jsx(n,{element:e.jsx("span",{className:C.fullContent,children:"Unselect"}),icon:e.jsx("i",{className:`fas fa fa-check ${C.uncheck}`}),className:C.UnselectAllButton,func:()=>{x()}})]}),e.jsxs("div",{className:C.right,children:[e.jsx(n,{icon:e.jsx("i",{className:"fa fa-trash"}),element:e.jsx("span",{className:C.fullContent,children:"Delete"}),func:()=>{c?o():console.log("No update")}}),e.jsx(n,{icon:e.jsx("i",{className:"fa fa-close"}),element:e.jsx("span",{className:C.fullContent,children:"Cancel"}),func:()=>{T(!1),x()}})]})]})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:C.bottomOptionsWrapper,children:h?e.jsx(_,{}):e.jsx(n,{element:e.jsx("span",{className:C.fullContent,children:"Select"}),icon:e.jsx("i",{className:"fa fa-hand-o-up"}),className:C.SelectButton,func:()=>T(!0)})})})},ce=()=>e.jsx("div",{children:"EditTaskPrompt"}),ie="_sortTypeBar_1i2uf_1",de="_hideSortTypeBar_1i2uf_1",fe="_sortTypeBarBox_1i2uf_27",he="_notIndicated_1i2uf_63",pe="_indicated_1i2uf_73",W={sortTypeBar:ie,hideSortTypeBar:de,sortTypeBarBox:fe,notIndicated:he,indicated:pe},_e=()=>{const{sortingTypeBar:l,setSortingTypeBar:d,sortingTypes:c,setSortingTypes:j,unselectAll:x,setType:m}=a.useContext(F);return e.jsx(e.Fragment,{children:e.jsx("div",{className:l?W.sortTypeBar:W.hideSortTypeBar,onClick:()=>{d(!1)},children:e.jsx("ul",{className:W.sortTypeBarBox,children:c==null?void 0:c.map((u,k)=>e.jsx("li",{className:u.ind?W.indicated:W.notIndicated,onClick:()=>{x(),m(u.type),j(f=>f.map(i=>f[k].type==i.type?{...i,ind:!0}:{...i,ind:!1}))},children:u.type},u.type))})})})},me=()=>e.jsx("div",{children:"SortTaskPrompt"}),ue="_tasksContainer_gj5si_1",ke="_tasks_gj5si_1",xe="_Finished_gj5si_73",ge="_unchecked_gj5si_115",je="_checked_gj5si_123",S={tasksContainer:ue,tasks:ke,Finished:xe,unchecked:ge,checked:je},B=({task:l,i:d})=>{const{selecting:c}=a.useContext(I);return e.jsxs("label",{htmlFor:"task"+l.id,style:l.style!="default"?{...l.style}:null,className:l.type=="pending"?`${S.Pending} ${l.cName.map(j=>JSON.parse(j)).join(" ")} ${S.tasks}`:`${S.Finished} ${l.cName.map(j=>JSON.parse(j)).join(" ")} ${S.tasks}`,onDoubleClick:()=>{setEditing(!0),setOpenedTask({id:l.id,isOpened:!0})},children:[e.jsx("i",{style:c==!1?{display:"none"}:{display:"block"},className:`fa fa-check-square ${l.isChecked===!0?S.checked:S.unchecked}`}),e.jsx("input",{style:{display:"none"},type:"checkbox",id:"task"+l.id,onChange:()=>{c&&checkTask(l.id)}}),e.jsx("span",{children:l.task})]},l.id)},Ce=()=>{const{searching:l,setSearching:d,tasks:c,setTasks:j,filteredTask:x,setFilteredTask:m,sorting:u,setSorting:k,type:f,selecting:i,setSelecting:N,taskCheckboxes:h,setTaskCheckboxes:T}=a.useContext(I);if(l&&x!=null)return e.jsx("div",{className:S.tasksContainer,children:x.map((t,o)=>{if(t.type==="pending"&&f==="Pending")return e.jsx(B,{task:t,i:o,selecting:i,chechTask:()=>checkTask()},t.id);if(t.type==="finished"&&f==="Finished")return e.jsx(B,{task:t,i:o,selecting:i,chechTask:()=>checkTask()},t.id);if(f==="All Tasks")return e.jsx(B,{task:t,i:o,selecting:i,chechTask:()=>checkTask()},t.id)})},"Task_Container");if(u&&!l){let t=h;for(let o in sortOptions)o==0&&sortOptions[o].state==!0?t=t.sort((_,r)=>r.dateCreated.time-_.dateCreated.time):o==1&&sortOptions[o].state==!0?t=t.sort((_,r)=>_.dateCreated.time-r.dateCreated.time):o==2&&sortOptions[o].state==!0?t=t.sort((_,r)=>_.task.localeCompare(r.task)):o==3&&sortOptions[o].state==!0&&(t=t.sort((_,r)=>r.task.localeCompare(_.task)));return e.jsx("div",{className:S.tasksContainer,children:t.map((o,_)=>{if(o.type==="pending"&&f==="Pending")return e.jsx(B,{task:o,i:_,selecting:i,chechTask:()=>checkTask()},o.id);if(o.type==="finished"&&f==="Finished")return e.jsx(B,{task:o,i:_,selecting:i,chechTask:()=>checkTask()},o.id);if(f==="All Tasks")return e.jsx(B,{task:o,i:_,selecting:i,chechTask:()=>checkTask()},o.id)})})}else if(!u&&!l)return e.jsx("div",{className:S.tasksContainer,children:h==null?void 0:h.map((t,o)=>{if(t.type==="pending"&&f==="Pending")return e.jsx(B,{task:t,i:o,selecting:i,chechTask:()=>checkTask()},t.id);if(t.type==="finished"&&f==="Finished")return e.jsx(B,{task:t,i:o,selecting:i,chechTask:()=>checkTask()},t.id);if(f==="All Tasks")return e.jsx(B,{task:t,i:o,selecting:i,chechTask:()=>checkTask()},t.id)})})},I=a.createContext(),Te=()=>{const{searching:l,setSearching:d,tasks:c,setTasks:j,filteredTask:x,setFilteredTask:m,sorting:u,setSorting:k,type:f,selecting:i,setSelecting:N}=a.useContext(F),[h,T]=a.useState(c.length!=0?[...c]:[]),t={searching:l,setSearching:d,tasks:c,setTasks:j,filteredTask:x,setFilteredTask:m,sorting:u,setSorting:k,type:f,selecting:i,setSelecting:N,taskCheckboxes:h,setTaskCheckboxes:T};return a.useEffect(()=>{T([...c])},[c]),e.jsx(I.Provider,{value:t,children:e.jsx(Ce,{})})},Pe="_Prompt_Box_oyket_1",Ne="_Close_Button_oyket_43",Be="_colorPicker_oyket_125",Se="_Hide_BG_Color_Prompt_oyket_157",ye="_Hide_Color_Prompt_oyket_159",be="_Hide_Border_Color_Prompt_oyket_161",We="_Hide_Font_Weight_Prompt_oyket_163",$e="_Hide_Italic_Prompt_oyket_165",Fe="_BG_Color_Prompt_oyket_173",ve="_Color_Prompt_oyket_175",Oe="_Border_Color_Prompt_oyket_177",He="_Font_Weight_Prompt_oyket_179",Ie="_Italic_Prompt_oyket_181",we="_topOptionsWrapper_oyket_189",Me="_topOptionsBox_oyket_209",Ee="_notWorking_oyket_347",s={Prompt_Box:Pe,Close_Button:Ne,colorPicker:Be,Hide_BG_Color_Prompt:Se,Hide_Color_Prompt:ye,Hide_Border_Color_Prompt:be,Hide_Font_Weight_Prompt:We,Hide_Italic_Prompt:$e,BG_Color_Prompt:Fe,Color_Prompt:ve,Border_Color_Prompt:Oe,Font_Weight_Prompt:He,Italic_Prompt:Ie,topOptionsWrapper:we,topOptionsBox:Me,notWorking:Ee},Ae=()=>{var _;const{updateTask:l,selectedTasks:d,numberOfChanges:c,setNumberOfChanges:j}=a.useContext(F),[x,m]=a.useState(!1),[u,k]=a.useState(!1),[f,i]=a.useState(!1),[N,h]=a.useState(!1),[T,t]=a.useState(!1),o=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:x?`${s.BG_Color_Prompt} ${s.Prompt_Box}`:`${s.Hide_BG_Color_Prompt} ${s.Prompt_Box}`,children:[e.jsx(n,{icon:e.jsx("i",{className:"fa fa-close"}),className:`${s.Close_Button}`,func:()=>{m(!1)}}),e.jsx("h1",{children:"Change BG Color"}),e.jsxs("label",{htmlFor:"colorPicker",className:s.colorPicker,children:[e.jsx("input",{type:"color",id:"colorPicker",onBlur:r=>{handleMark(!1,!1,r.target.value,!1,!1)}}),e.jsx("span",{children:"Choose BG Color"})]}),e.jsx(n,{content:"Default",func:()=>{handleMark(!1,!1,"#f09c2e",!1,!1)}})]}),e.jsxs("div",{className:u?`${s.Color_Prompt} ${s.Prompt_Box}`:`${s.Hide_Color_Prompt} ${s.Prompt_Box}`,children:[e.jsx("h1",{children:"Change Font Color"}),e.jsx(n,{icon:e.jsx("i",{className:"fa fa-close"}),className:`${s.Close_Button}`,func:()=>{k(!1)}}),e.jsxs("label",{htmlFor:"bgColorPicker",className:`${s.bgColorPicker} ${s.colorPicker}`,children:[e.jsx("input",{type:"color",id:"bgColorPicker",onBlur:r=>{handleMark(!1,r.target.value,!1,!1,!1)}}),e.jsx("span",{children:"Choose Font Color"})]}),e.jsx(n,{content:"Default",func:()=>{handleMark(!1,"white",!1,!1,!1)}})]}),e.jsxs("div",{className:f?`${s.Border_Color_Prompt} ${s.Prompt_Box}`:`${s.Hide_Border_Color_Prompt} ${s.Prompt_Box}`,children:[e.jsx("h1",{children:"Change Border Color"}),e.jsx(n,{icon:e.jsx("i",{className:"fa fa-close"}),className:`${s.Close_Button}`,func:()=>{i(!1)}}),e.jsxs("label",{htmlFor:"borderColorPicker",className:`${s.borderColorPicker} ${s.colorPicker}`,children:[e.jsx("input",{type:"color",id:"borderColorPicker",onBlur:r=>{handleMark(!1,!1,!1,!1,!1,r.target.value)}}),e.jsx("span",{children:"Choose Border Color"})]}),e.jsx(n,{content:"Default",func:()=>{handleMark(!1,!1,!1,!1,!1,"#d16c06")}})]}),e.jsxs("div",{className:N?`${s.Font_Weight_Prompt} ${s.Prompt_Box}`:`${s.Hide_Font_Weight_Prompt} ${s.Prompt_Box}`,children:[e.jsx("h1",{children:"Change Font Weight"}),e.jsx(n,{icon:e.jsx("i",{className:"fa fa-close"}),className:`${s.Close_Button}`,func:()=>{h(!1)}}),e.jsx(n,{content:"Normal",func:()=>{handleMark(!1,!1,!1,"Normal",!1,!1)}}),e.jsx(n,{content:"Bold",func:()=>{handleMark(!1,!1,!1,"Bold",!1,!1)}}),e.jsx(n,{content:"Bolder",func:()=>{handleMark(!1,!1,!1,"Bolder",!1,!1)}})]}),e.jsxs("div",{className:T?`${s.Italic_Prompt} ${s.Prompt_Box}`:`${s.Hide_Italic_Prompt} ${s.Prompt_Box}`,children:[e.jsx("h1",{children:"Change Italization"}),e.jsx(n,{icon:e.jsx("i",{className:"fa fa-close"}),className:`${s.Close_Button}`,func:()=>{t(!1)}}),e.jsx(n,{content:"Normal",func:()=>{handleMark(!1,!1,!1,!1,"Normal",!1)}}),e.jsx(n,{content:"Italic",func:()=>{handleMark(!1,!1,!1,!1,"Italic",!1)}})]})]});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:s.topOptionsWrapper,children:[e.jsx(o,{}),e.jsxs("div",{className:s.topOptionsBox,children:[e.jsx(n,{icon:e.jsx("i",{className:"fa fa-save"}),content:"Save Changes",className:c==null?`${s.notWorking}`:null,func:()=>{c!=null&&saveToDataBase()}}),e.jsx(n,{icon:e.jsx("i",{className:"material-icons",children:"undo"}),content:"Undo",className:c==null||c==0?`${s.notWorking}`:null,func:()=>{c>0&&handleUndo()}}),e.jsx(n,{icon:e.jsx("i",{className:"material-icons",children:"redo"}),content:"Redo",className:c<((_=JSON.parse(localStorage.getItem("Changes")))==null?void 0:_.length)-1&&c!=null?null:`${s.notWorking}`,func:()=>{var r;c<((r=JSON.parse(localStorage.getItem("Changes")))==null?void 0:r.length)-1&&c!=null&&handleRedo()}}),e.jsx(n,{icon:e.jsx("i",{className:"fa fa-plus"}),content:e.jsx("span",{children:" Create New Task"}),className:d.length!=0?s.working:s.notWorking,func:()=>{setShowTaskPrompt(!0),setShowNavbar(!1)}}),e.jsx(n,{icon:e.jsx("i",{className:"fa fa-edit"}),content:e.jsx("span",{children:" Mark As Finished"}),className:d.length!=0?s.working:s.notWorking,func:()=>{handleMark("finished","white","#51af0f",!1,!1,"rgb(8, 97, 20)")}}),e.jsx(n,{icon:e.jsx("i",{className:"fa fa-edit"}),content:e.jsx("span",{children:" Mark As Pending"}),className:d.length!=0?s.working:s.notWorking,func:()=>{handleMark("pending","white","#f09c2e",!1,!1,"rgb(209, 108, 6)")}}),e.jsx(n,{icon:e.jsx("i",{className:"fa fa-sort"}),content:e.jsx("span",{children:" Sort"}),className:d.length!=0?s.working:s.notWorking,func:()=>{setShowSortPrompt(!0),setShowNavbar(!1)}}),e.jsx(n,{icon:e.jsx("i",{className:"material-icons",children:"format_color_fill"}),content:e.jsx("span",{children:" BG Color "}),className:d.length!=0?s.working:s.notWorking,func:()=>{m(!0),k(!1),i(!1),h(!1),t(!1)}}),e.jsx(n,{icon:e.jsx("i",{className:"material-icons",children:"format_color_text"}),content:e.jsx("span",{children:" Font Color"}),className:d.length!=0?s.working:s.notWorking,func:()=>{k(!0),m(!1),i(!1),h(!1,t(!1))}}),e.jsx(n,{icon:e.jsx("i",{className:"material-icons",children:"border_color"}),content:e.jsx("span",{children:" Border Color"}),className:d.length!=0?s.working:s.notWorking,func:()=>{i(!0),m(!1),k(!1),h(!1),t(!1)}}),e.jsx(n,{icon:e.jsx("i",{className:"fa fa-bold"}),content:" Bold",className:d.length!=0?s.working:s.notWorking,func:()=>{i(!1),m(!1),k(!1),h(!0),t(!1)}}),e.jsx(n,{icon:e.jsx("i",{className:"fa fa-italic"}),content:" Italic",className:d.length!=0?s.working:s.notWorking,func:()=>{i(!1),m(!1),k(!1),h(!1),t(!0)}})]})]})})},Ge="_tasksWrapper_8kb66_13",De="_tasksEditor_8kb66_33",Ue="_searchWrapper_8kb66_103",$={tasksWrapper:Ge,tasksEditor:De,searchWrapper:Ue},F=a.createContext(),qe=()=>{const{user:l,setHideNavBar:d,setHideSideBar:c,setPages:j}=a.useContext(Y),[x,m]=a.useState(!1),[u,k]=a.useState(!1),[f,i]=a.useState(!1),[N,h]=a.useState(!1),[T,t]=a.useState(!1),[o,_]=a.useState(!1),[r,g]=a.useState(!1),[P,y]=a.useState(!1),[p,O]=a.useState("Pending"),[M,E]=a.useState(null),[H,w]=a.useState([]),[A,G]=a.useState(H.length!=0?[...H]:[]),[D,U]=a.useState([]),[J,R]=a.useState([]),[q,V]=a.useState([]),[z,L]=a.useState([{type:"Pending",ind:!0},{type:"Finished",ind:!1},{type:"All Tasks",ind:!1}]),K={writeTaskPrompt:x,setWriteTaskPrompt:m,editTaskPrompt:u,setEditTaskPrompt:k,sortTaskPrompt:f,setSortTaskPrompt:i,sortingTypeBar:N,setSortingTypeBar:h,type:p,setType:O,searching:T,setSearching:t,sorting:o,setSorting:_,selecting:r,setSelecting:g,editing:P,setEditing:y,numberOfChanges:M,setNumberOfChanges:E,tasks:H,setTasks:w,filteredTask:D,setFilteredTask:U,updatedTasks:A,setUpdatedTasks:G,selectedTasks:J,setSelectedTasks:R,changes:q,setChanges:V,sortingTypes:z,setSortingTypes:L,unselectAll:Q};function Q(){}return a.useEffect(()=>{j(b=>b.map(v=>v.name==="Tasks"?{...v,ind:!0}:{...v})),(async()=>{try{const b=Z(ee,"Users","Mav3CkHiEkOgsggTfW0q0pioWFL2");let X=(await se(b)).data().tasks;w([...X])}catch(b){console.log(b)}})()},[]),e.jsx(e.Fragment,{children:e.jsx(F.Provider,{value:K,children:e.jsx("div",{className:$.tasksWrapper,children:e.jsxs("div",{className:$.tasksEditor,children:[e.jsxs("h2",{className:$.titleWrapper,children:["Tasks",e.jsx("i",{className:"fa fa-bars",onClick:()=>{h(!N)}}),e.jsx(_e,{})]}),e.jsx(Ae,{}),e.jsx("div",{className:$.searchWrapper,children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"searchBar",children:e.jsx("i",{className:"fa fa-search"})}),e.jsx("input",{id:"search-bar",type:"text",placeholder:"Type Task..."}),e.jsx(n,{content:"Search",className:$.Search_button,func:()=>{handleSearch(),handleIsSorting()}})]})}),e.jsx(le,{}),e.jsx(Te,{}),e.jsx(ce,{}),e.jsx(me,{})]})})})})};export{qe as default,F as tasksContext};
