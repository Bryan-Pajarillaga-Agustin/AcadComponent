import{r as a,c as T,u as k,j as s,L as I,B as P,s as z,h as p,G as B,p as E,d as G,a as L,g as R}from"./index-D4iUY_VG.js";const U="_signInWrapper_1gazs_10",y="_Link_1gazs_27",b="_goToStartingPage_1gazs_32",F="_topArc_1gazs_44",D="_form_1gazs_57",H="_userNameCon_1gazs_64",V="_passwordCon_1gazs_65",q="_moreActions_1gazs_72",M="_signInButton_1gazs_128",O="_otherPlatformsWrapper_1gazs_144",X="_iconsWrapper_1gazs_155",$="_wrapper_1gazs_161",n={signInWrapper:U,Link:y,goToStartingPage:b,topArc:F,form:D,userNameCon:H,passwordCon:V,moreActions:q,signInButton:M,otherPlatformsWrapper:O,iconsWrapper:X,wrapper:$};function Z(){const{setUser:x,setShowSignInPrompt:C,setShowSignUpPrompt:S,setLoading:u,setContinueAs:h,setHideNavBar:J,prevPage:d}=a.useContext(T),_=k(),[g,w]=a.useState(!1),[K,Q]=a.useState(),r=a.useRef(null),o=a.useRef(null),c=a.useRef(null),i=a.useRef(null),m=()=>{const e=c==null?void 0:c.current.value,t=i==null?void 0:i.current.value,l=r.current,v=o.current;return{email:e,pass:t,warning1:l,warning2:v}},f=()=>{const e=m();e.email&&(e.email=""),e.pass&&(e.pass=""),e.warning1.innerText="",e.warning2.innerText=""},N=e=>{const t=m();return(e==null?void 0:e.target.value)==""||t.email==""?r.current.textContent="The input field is blank!":r.current.textContent="",!1},j=e=>{const t=m();return(e==null?void 0:e.target.value)==""||t.pass==""?o.current.textContent="The input field is blank!":o.current.textContent="",!1},A=async()=>{N(),j();{u(!0);try{await z(p,c.current.value,i.current.value),f(),x(p.currentUser),h(!0),_(d)}catch(e){console.log(e),e.code=="auth/invalid-email"&&(r.current.textContent="Invalid email/Email doesn't exist."),e.code=="auth/invalid-credential"&&(o.current.textContent="Password does not match."),e.code=="auth/network-request-failed"&&alert("Network Error, unable to sign in. Please try again.")}u(!1)}},W=async()=>{var t;const e=new B;u(!0);try{await E(p,e),f(),x(p.currentUser);const l=G(L,"Users",(t=p.currentUser)==null?void 0:t.uid);(await R(l)).exists()?C(!1):S(!0),h(!0),_(d)}catch(l){console.log(l)}u(!1)};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:n.signInWrapper,children:[s.jsx(I,{to:d!=""?d:"/AcadComponent/",className:n.Link,children:s.jsx(P,{func:()=>{f()},content:"X",className:n.goToStartingPage})}),s.jsx("div",{className:n.topArc,children:"SIGN IN"}),s.jsxs("div",{className:n.form,children:[s.jsxs("div",{className:n.userNameCon,children:[s.jsx("h3",{children:"Username :"}),s.jsx("input",{className:"emailInput",ref:c,onInput:e=>{N(e)}}),s.jsx("span",{ref:r})]}),s.jsxs("div",{className:n.passwordCon,children:[s.jsx("h3",{children:"Password :"}),s.jsx("input",{type:g?"text":"password",ref:i,onInput:e=>{j(e)},className:n.Password}),s.jsx("span",{ref:o}),s.jsx("img",{src:g?"./password/visible.png":"./password/unsee.png",className:n.seePassword,onClick:()=>{w(!g)}})]}),s.jsxs("div",{className:n.moreActions,children:[s.jsx("span",{className:n.forgotPass,children:"Forgot Password"}),s.jsx(I,{className:n.createAcc,to:"/AcadComponent/SignUp",children:"Doesn't Have An Account?"})]}),s.jsx(P,{className:n.signInButton,func:()=>{A()},content:"SIGN IN"})]}),s.jsxs("div",{className:n.otherPlatformsWrapper,children:[s.jsxs("div",{className:n.iconsWrapper,children:[s.jsx("div",{className:n.wrapper,onClick:()=>{W()},children:s.jsx("img",{src:"./platforms/GG.png "})}),s.jsx("div",{className:n.wrapper,children:s.jsx("img",{src:"./platforms/facebook.png"})}),s.jsx("div",{className:n.wrapper,children:s.jsx("img",{src:"./platforms/Instagram.png"})})]}),s.jsx("h3",{children:"SIGN IN WITH DIFFERENT PLATFORMS"})]})]})})}export{Z as default};
