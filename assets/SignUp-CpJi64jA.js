import{r as a,j as e,B as N,c as je,u as _e,L as Z,q as ve,k as y,t as ee,d as se,a as te}from"./index-DlXNYuRd.js";const Ie="_hide_1h5us_1",be="_formOne_1h5us_4",x={hide:Ie,formOne:be},we=()=>{const{indicated:f,show:d,showConfirm:m,setShowConfirm:u,setShow:l,passwordInput:p,confirmPasswordInput:h,emailInput:j,passWarning:_,confirmWarning:v,emailWarning:I}=a.useContext(T);return e.jsxs("div",{className:f==0?x.formOne:x.hide,children:[e.jsxs("div",{className:x.email,children:[e.jsx("h4",{children:"Email"}),e.jsx("input",{type:"text",ref:j}),e.jsx("span",{ref:I})]}),e.jsxs("div",{className:x.password,children:[e.jsx("h4",{children:"Password"}),e.jsx("input",{type:d?"text":"password",ref:p}),e.jsx("img",{src:d?"./password/visible.png":"./password/unsee.png",className:x.see_password,onClick:()=>{l(!d)}}),e.jsx("span",{ref:_})]}),e.jsxs("div",{className:x.confirm,children:[e.jsx("h4",{children:"Confirm Password"}),e.jsx("input",{type:m?"text":"password",ref:h}),e.jsx("img",{src:m?"./password/visible.png":"./password/unsee.png",className:x.see_confirm,onClick:()=>{u(!m)}}),e.jsx("span",{ref:v})]})]})},Se="_hide_p08ld_1",Ce="_formTwo_p08ld_6",Ne="_top_p08ld_16",Te="_notIndicated_p08ld_41",ye="_indicated_p08ld_46",S={hide:Se,formTwo:Ce,top:Ne,notIndicated:Te,indicated:ye},We=()=>{const{indicated:f,usageOptions:d,handleUsageOptions:m,usingAsInput:u}=a.useContext(T);return e.jsxs("div",{className:f==1?S.formTwo:S.hide,children:[e.jsx("h3",{children:"I am using the Web Application as?"}),e.jsx("div",{children:e.jsxs("div",{className:S.top,children:[d.map((l,p)=>e.jsx(N,{content:l.content,className:l.isIndicated?S.indicated:S.notIndicated,func:()=>{m(p)}},l.content)),e.jsx("h3",{children:"What is your purpose?"}),e.jsx("textarea",{type:"text",placeholder:"Other reason...",ref:u})]})})]})},Ue="_hide_a52m3_1",ke="_formThree_a52m3_5",C={hide:Ue,formThree:ke},Be=()=>{const{indicated:f,schoolInput:d,schoolWarning:m,grSecInput:u,grSecWarning:l,nickNameInput:p,nameWarning:h}=a.useContext(T);return e.jsxs("div",{className:f==2?C.formThree:C.hide,children:[e.jsxs("div",{className:C.username,children:[e.jsx("h4",{children:"Name"}),e.jsx("input",{type:"text",ref:p}),e.jsx("span",{ref:h})]}),e.jsxs("div",{className:C.password,children:[e.jsx("h4",{children:"School"}),e.jsx("input",{type:"text",ref:d}),e.jsx("span",{ref:m})]}),e.jsxs("div",{className:C.confirm,children:[e.jsx("h4",{children:"Grade & Section"}),e.jsx("input",{type:"text",ref:u}),e.jsx("span",{ref:l})]})]})},Ae="_hide_z324w_8",Pe="_formFour_z324w_12",Re="_wrapper_z324w_43",Fe="_IndicatedButt_z324w_63",Oe="_notIndicatedButt_z324w_73",g={hide:Ae,formFour:Pe,wrapper:Re,IndicatedButt:Fe,notIndicatedButt:Oe},Ee=()=>{const{indicated:f,subjects:d,handleSubjects:m}=a.useContext(T);if(d!=null)return e.jsx("div",{className:f==3?g.formFour:g.hide,children:e.jsxs("div",{className:g.wrapper,children:[e.jsx("h4",{children:"What is your favorite subject?"}),e.jsx("div",{className:g.buttons,children:d.map((u,l)=>e.jsx(N,{func:()=>{m(l)},className:u.testClass==!0?g.IndicatedButt:g.notIndicatedButt,content:d[l].content},u+l.toString()))})]})})},$e="_signUpWrapper_8b39y_12",Le="_Link_8b39y_32",ze="_forms_8b39y_38",De="_toBottom_8b39y_49",Me="_bottom_8b39y_68",qe="_buttons_8b39y_74",Ge="_indicator_8b39y_96",Xe="_indicated_8b39y_110",He="_notIndicated_8b39y_114",Je="_goToStartingPage_8b39y_146",i={signUpWrapper:$e,Link:Le,forms:ze,toBottom:De,bottom:Me,buttons:qe,indicator:Ge,indicated:Xe,notIndicated:He,goToStartingPage:Je},T=a.createContext(),Qe=()=>{const{setLoading:f,setContinueAs:d,setUser:m,prevPage:u}=a.useContext(je),l=_e(),p=a.useRef(null),h=a.useRef(null),j=a.useRef(null),_=a.useRef(null),v=a.useRef(null),I=a.useRef(null),W=a.useRef(null),U=a.useRef(null),k=a.useRef(null),B=a.useRef(null),A=a.useRef(null),P=a.useRef(null),b=a.useRef(null),[ne,ae]=a.useState(!1),[ce,oe]=a.useState(!1),[o,w]=a.useState(0),[M,R]=a.useState([]),[q,F]=a.useState([]),[G,O]=a.useState([{content:"As a Student",isIndicated:!1},{content:"As a Teacher",isIndicated:!1},{content:"As a Employee",isIndicated:!1},{content:"I Am Just Using It.",isIndicated:!1}]),[X,E]=a.useState([{content:"TLE",testClass:!1},{content:"Mathematics",testClass:!1},{content:"Science",testClass:!1},{content:"English",testClass:!1},{content:"Colloquium",testClass:!1},{content:"Filipino",testClass:!1},{content:"Mapeh",testClass:!1},{content:"AP",testClass:!1},{content:"ESP",testClass:!1}]),ie=()=>{var H,J,K,V,Q,Y;const n=(H=j.current)==null?void 0:H.value,s=(J=p.current)==null?void 0:J.value,r=(K=v.current)==null?void 0:K.value,c=(V=W.current)==null?void 0:V.value,t=(Q=k.current)==null?void 0:Q.value,D=(Y=A.current)==null?void 0:Y.value,fe=_.current,me=h.current,pe=I.current,he=U.current,xe=B.current,ge=P.current;return[[n,s,r,c,t,D],[fe,me,pe,he,xe,ge]]},$=async n=>{var c;const s=ie();let r;if(o==0){if(r=L(s[0],s[1],o),!r){f(!0);try{await ve(y,s[0][0],s[0][1]),m(y.currentUser),await ee(se(te,"Users",(c=y.currentUser)==null?void 0:c.uid),{email:s[0][0]}),w(o+1)}catch(t){console.log(t),t.code=="auth/email-already-in-use"&&(s[1][0].innerText="Email is already taken.")}f(!1)}}else o==1||o==2?r=L(s[0],s[1],o):o==3&&n=="Submit"&&de(s[0]);n=="next"&&o!=3&&!r?w(o+1):n=="back"&&o!=1&&w(o-1)},L=(n,s,r)=>{let c=!1;for(let t in n)r==0&&t<3?(n[t]==""&&(s[t].innerText="The input field is blank.",c=!0),t==0?n[t].includes("@gmail.com")||n[t].includes("@email.com")?s[t].innerText="":(s[t].innerText="This is not an email!",c=!0):t==1?n[t].length<=7?(s[t].innerText="The password is too short(maximum of 8 characters).",c=!0):s[t].innerText="":t==2&&(n[t]!=n[t-1]?(s[t].innerText="The password isn't match.",c=!0):s[t].innerText="")):r==2&&t>2&&(n[t]==""?(s[t].innerText="The input field is blank.",c=!0):(s[t].innerText="",c=!1));return!!c},re=n=>{let s=G;for(let r in s)if(r==n){s=s[n].content;break}R(s),O(r=>r.map((c,t)=>n==t?{...c,isIndicated:!0}:{...c,isIndicated:!1}))},le=n=>{let s=X,r=[];s=s.map((c,t)=>n==t?{...c,testClass:c.testClass!=!0}:{...c});for(let c in s)s[c].testClass==!0&&r.push(s[c]);F([...r]),E(c=>c.map((t,D)=>n==D?{...t,testClass:t.testClass!=!0}:{...t}))},de=async n=>{f(!0);try{const s=y.currentUser;await ee(se(te,"Users",s.uid),{favSubjects:q,usingAs:M,perInfo:{school:n[4],name:n[3],grSec:n[5],age:"",bDay:"",gender:"",hobbies:"",placeOfBirth:"",skills:"",contacts:{gMail:"",number:"",faceBook:""},purpose:b==null?void 0:b.current.value}}),l(u),z(),d(!0)}catch(s){console.log(s.message)}f(!1)};function z(){p.current.value="",h.current.value="",j.current.value="",_.current.value="",v.current.value="",I.current.value="",W.current.value="",U.current.value="",k.current.value="",B.current.value="",A.current.value="",P.current.value="",b.current.value="",E(n=>n.map(s=>({...s,testClass:!1}))),O(n=>n.map(s=>({...s,isIndicated:!1}))),R(null),F([]),w(0)}const ue={passwordInput:p,passWarning:h,emailInput:j,emailWarning:_,confirmPasswordInput:v,confirmWarning:I,nickNameInput:W,nameWarning:U,schoolInput:k,schoolWarning:B,grSecInput:A,grSecWarning:P,usingAsInput:b,show:ne,setShow:ae,showConfirm:ce,setShowConfirm:oe,indicated:o,setIndication:w,usage:M,setUsage:R,selectedSubjects:q,setSelectedSubjects:F,usageOptions:G,setUsageOptions:O,subjects:X,setSubjects:E,handleUsageOptions:re,handleSubjects:le};return e.jsx(e.Fragment,{children:e.jsx(T.Provider,{value:ue,children:e.jsxs("div",{className:i.signUpWrapper,children:[e.jsx(Z,{to:u!=""?u:"/AcadComponent/",className:i.Link,children:e.jsx(N,{func:()=>{z()},content:"X",className:i.goToStartingPage})}),e.jsxs("form",{onSubmit:n=>{n.preventDefault()},className:i.forms,children:[e.jsx("header",{children:"SIGN UP"}),e.jsxs("div",{className:i.toBottom,children:[e.jsx(we,{}),e.jsx(We,{}),e.jsx(Be,{}),e.jsx(Ee,{}),e.jsxs("div",{className:i.bottom,children:[e.jsxs("div",{className:i.buttons,children:[e.jsx(N,{content:"BACK",func:()=>{$("back")}}),e.jsx(N,{content:o==3||o==0?"SUBMIT":"NEXT",func:()=>{o==3||o==0?$("Submit"):$("next")}})]}),e.jsxs("div",{className:i.indicator,children:[e.jsx("div",{className:o==0?i.indicated:i.notIndicated}),e.jsx("div",{className:o==1?i.indicated:i.notIndicated}),e.jsx("div",{className:o==2?i.indicated:i.notIndicated}),e.jsx("div",{className:o==3?i.indicated:i.notIndicated})]}),e.jsx("h4",{id:i.SignUp,onClick:()=>{z()},children:e.jsx(Z,{to:"/AcadComponent/SignIn",className:i.linkBottom,children:"Already Have An Account?"})})]})]})]})]})})})};export{Qe as default,T as signUpContext};
